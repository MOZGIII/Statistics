<% require 'yaml' %>

<% global = YAML.load_file("data/global.yaml") %>
<% data = YAML.load_file("data/#{global['variant']}.yaml") %>
<% r_xy = File.new('data.tmp').gets.to_f %>

<% require 'statistic' %>
<% require 'latex_helper' %>
<% include LatexHelper %>

<%
sample = {}
for i in 1 .. 4
  sample[i] = Statistic::Sample::new(data[i]['data'])
  sample[i].hist_step = data[i]['histstep'] if data[i]['histstep']
  sample[i].hist_start  = data[i]['histstart'] if data[i]['histstart']
end
%>

\subsection*{\hspace*{\parindent}Задание 4} 
По двум данным в задании 1 выборкам проверить гипотезу о некоррелированности 
соответствующих случайных величин с уровнем значимости $0{,}1$.

\par
{\em Решение.} 
Пусть на основании данных корреляционной таблицы найден выборочный 
коэффициент корреляции $r^*_{xy}$, который оказался отличным от нуля. 
Так как выборка отобрана случайно, то возникает вопрос о том, будет ли 
отличен от нуля теоретический коэффициент корреляции $r_{\xi\zeta}$. 
Необходимо при заданном уровне значимости $\alpha$ проверить гипотезу $H_0$ 
о том, что  при конкурирующей гипотезе $H_1$: $r_{\xi\zeta} \neq 0$. 
Если $H_0$ отвергается, то выборочный коэффициент корреляции значимо 
отличается от нуля, а случайные величины $\xi$ и $\zeta$ коррелированны.
Если же $H_0$ принимается, то делаем вывод, что выборочный коэффициент 
корреляции незначимо отличается от нуля, а случайные величины $\xi$ и 
$\zeta$ некоррелированны.

В качестве критерия для проверки $H_0$ выбирается случайная величина 
$$ T = r^*_{xy}\dfrac{\sqrt{n - 2\vphantom{{r^*_{xy}}^2}}}{\sqrt{1 - {r^*_{xy}}^2}}.$$

При справедливости гипотезы $H_0$ величина $T$ имеет так называемое 
распределение Стьюдента с $n-2$ степенями свободы. Критическая область 
для рассматриваемой гипотезы будет двусторонней, $T_{\text{крит}1} = 
-T_{\text{крит}2}$. Критическое значение $T_{\text{крит}2}$ определяется 
по заданным уровню значимости $\alpha$ и по числу степеней свободы $n-2$. 
Если $|T_{\text{набл}}| \geqslant t_{\text{крит}2}$, то гипотеза $H_0$ 
отвергается с уровнем значимости $\alpha$; 
при $|T_{\text{набл}}| < t_{\text{крит}2}$ нет оснований отвергнуть $H_0$ 
с уровнем значимости $\alpha$. 

Пусть $H_0$~--- нулевая гипотеза, что $r_{xy} = 0$, то есть что случайные 
величины некоррелированны; и $H_1$~--- альтернативная гипотеза: $r_{xy} \neq 0$.
Вычислим критерий:  
$$ 
T_{\text{набл}} = 
r^*_{xy}\dfrac{\sqrt{n - 2\vphantom{{r^*_{xy}}^2}}}{\sqrt{1 - {r^*_{xy}}^2}}.
$$

<% t = r_xy*Math.sqrt(23/(1-r_xy**2)) %>
Выборочный коэффициент корреляции вычислен в задании 3: $r^*_{xy} = <%= r_xy %>$, 
$n = 25$, откуда:
$$
T_{\text{набл}} = 
<%= r_xy %>\cdot\dfrac{\sqrt{23}}{\sqrt{1 - (<%= r_xy %>)^2}} \approx
<%= roundn(t, 6) %>.
$$

Имея в виду, что уровень значимости $\alpha$ и число степеней свободы для распределения Стьюдента равно $25-2=23$, найдем $T_{\text{крит}2} = 1{,}71387$.
<% if t.abs >= 1.71387 %>
	 $|T_{\text{набл}}| \geqslant t_{\text{крит}2}$, cледовательно, гипотеза $H_0$ отвергается c уровнем значимости $\alpha = 0{,}1$.
	 
	\par
	{\em Вывод.}
	После проверки гипотезы о значимости выборочного коэффициента корреляции 
	для выборки случайной величины $(\xi; \zeta)$, было сделано заключение о том, 
	что гипотезу $H_0$ : $r_{\xi\zeta} = 0$ необходимо отвергнуть c уровнем 
	значимости $\alpha = 0{,}1$. Это означает, что случайные величины 
	коррелированны, выборочный коэффициент корреляции значительно 
	отличается от нуля.

<% else %>
 $|T_{\text{набл}}| $<$ t_{\text{крит}2}$, cледовательно, нет оснований отвергать гипотезу $H_0$ c уровнем значимости $\alpha = 0{,}1$.
	 
	\par
	{\em Вывод.}
	После проверки гипотезы о значимости выборочного коэффициента корреляции 
	для выборки случайной величины $(\xi; \zeta)$, было сделано заключение о том, 
	что нет оснований отвергать гипотезу $H_0$ : $r_{\xi\zeta} = 0$ c уровнем 
	значимости $\alpha = 0{,}1$. Это означает, что случайные величины 
	некоррелированны, выборочный коэффициент корреляции незначительно 
	отличается от нуля.

<% end %>




